---
title: vue 多语言方案笔记
date: 2018-11-21 13:01:00
tags:  
- JavaScript
- vue
categories:
  - 前端
---


在项目实现多语言之前曾考虑过多种多语言的处理方案。抛开框架，当时就对多语言的具体写法产生了很多想法，比如一个大文件写所有文案，然后统一调用，比如每一个vue文件中写自己的文案，自己调用自己的，比如按照大页面进行划分，一个页面一个语言文件，统一引入。 

最终采取了最后一种方式，考虑到既能解决一部分复用问题，也能解决文案太过混乱无法维护的问题。但是在随后的coding过程中还是遇到了少问题，比如有些组件原本是某个页面的后来被公用了，比如有些文案有大量共同点，为了偷懒就直接copy。而在写的过程中也为了省事到处都是copy，结果写的时候自然无所谓。但是再来整理的时候感觉整个人的要疯了。。。

最近在整理的过程中，总结了一些原则，记录一下：

多语言的使用规则：

* 方案原则：对于不需要实现动态切换到多语言方案，可以优先采取纯json文件的方案。对于需要动态切换的多语言方案，采用i18n方案。
* 基本原则： 宁可多写，也不复用，以组件化为基准处理数据的结构化。以方便维护为主要考量，以优化访问性能为次要考量。

具体如下：


1. 严格按照页面进行模块划分，杜绝跨页面的共用。
2. 对于公共组件中，多语言跟随组件，不跟随页面。
3. 对于页面内部的组件，允许页面内部少量共用，不同组件的语言，按照组件分组。
4. 对于通用枚举类数据，将枚举数据封装为结构化对象，提供统一接口，以隔绝此类语言方案对代码的侵入。
5. 在调用多语言的文件中，采用在computed返回当前文件的语言数据集，在文件中统一调用这个属性，以实现文件内的统一处理。